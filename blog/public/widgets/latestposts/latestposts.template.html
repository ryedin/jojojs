<template name="posts" client_enabled="true">
  [[each(i, item) posts]]
    <li class="blogentry">
      <h3 postId="$[id]">
        <span id="$[id]-summary">$[summary]</span> <!--(timestamp: $[timestamp]) this timestamp value should change with each refresh -->
        <span style="font-style:italic;font-size:75%;">
          Posted on $[pubDate]
        </span>
      </h3>
      <p class="collapsed" id="$[id]-post">$[post]</p>
    </li>
  [[/each]]
</template>
<!-- timestamp: ${timestamp} this timestamp is the static widget-level value -->
<ul id="list">
  <!-- the async tag requires a global static method name for a function which must be in the form
         foo = function(cb) {...}
      where cb is a callback function that is called, passing a result object that will then
      be used in the template (via jQuery.tmpl)
      see latestposts.server.js for the example usage
  -->      
  <async method="blog.getPosts">
    <insert_template name="posts" />
  </async>
</ul>
